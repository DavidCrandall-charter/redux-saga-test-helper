"use strict";function _isPlaceholder(r){return null!=r&&"object"==typeof r&&!0===r["@@functional/placeholder"]}Object.defineProperty(exports,"__esModule",{value:!0});var _isPlaceholder_1=_isPlaceholder;function _curry1(e){return function r(n){return 0===arguments.length||_isPlaceholder_1(n)?r:e.apply(this,arguments)}}var _curry1_1=_curry1;function _curry2(t){return function r(n,e){switch(arguments.length){case 0:return r;case 1:return _isPlaceholder_1(n)?r:_curry1_1(function(r){return t(n,r)});default:return _isPlaceholder_1(n)&&_isPlaceholder_1(e)?r:_isPlaceholder_1(n)?_curry1_1(function(r){return t(r,e)}):_isPlaceholder_1(e)?_curry1_1(function(r){return t(n,r)}):t(n,e)}}}var _curry2_1=_curry2;function _arrayFromIterator(r){for(var n,e=[];!(n=r.next()).done;)e.push(n.value);return e}var _arrayFromIterator_1=_arrayFromIterator;function _containsWith(r,n,e){for(var t=0,u=e.length;t<u;){if(r(n,e[t]))return!0;t+=1}return!1}var _containsWith_1=_containsWith;function _functionName(r){var n=String(r).match(/^function (\w*)/);return null==n?"":n[1]}var _functionName_1=_functionName;function _has(r,n){return Object.prototype.hasOwnProperty.call(n,r)}var _has_1=_has,identical=_curry2_1(function(r,n){return r===n?0!==r||1/r==1/n:r!=r&&n!=n}),identical_1=identical,toString=Object.prototype.toString,_isArguments=function(){return"[object Arguments]"===toString.call(arguments)?function(r){return"[object Arguments]"===toString.call(r)}:function(r){return _has_1("callee",r)}},_isArguments_1=_isArguments,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function(r,n){for(var e=0;e<r.length;){if(r[e]===n)return!0;e+=1}return!1},_keys="function"!=typeof Object.keys||hasArgsEnumBug?function(r){if(Object(r)!==r)return[];var n,e,t=[],u=hasArgsEnumBug&&_isArguments_1(r);for(n in r)!_has_1(n,r)||u&&"length"===n||(t[t.length]=n);if(hasEnumBug)for(e=nonEnumerableProps.length-1;0<=e;)n=nonEnumerableProps[e],_has_1(n,r)&&!contains(t,n)&&(t[t.length]=n),e-=1;return t}:function(r){return Object(r)!==r?[]:Object.keys(r)},keys=_curry1_1(_keys),keys_1=keys,type=_curry1_1(function(r){return null===r?"Null":void 0===r?"Undefined":Object.prototype.toString.call(r).slice(8,-1)}),type_1=type;function _uniqContentEquals(r,n,e,t){var u=_arrayFromIterator_1(r),a=_arrayFromIterator_1(n);function c(r,n){return _equals(r,n,e.slice(),t.slice())}return!_containsWith_1(function(r,n){return!_containsWith_1(c,n,r)},a,u)}function _equals(r,n,e,t){if(identical_1(r,n))return!0;var u=type_1(r);if(u!==type_1(n))return!1;if(null==r||null==n)return!1;if("function"==typeof r["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof r["fantasy-land/equals"]&&r["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](r);if("function"==typeof r.equals||"function"==typeof n.equals)return"function"==typeof r.equals&&r.equals(n)&&"function"==typeof n.equals&&n.equals(r);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof r.constructor&&"Promise"===_functionName_1(r.constructor))return r===n;break;case"Boolean":case"Number":case"String":if(typeof r!=typeof n||!identical_1(r.valueOf(),n.valueOf()))return!1;break;case"Date":if(!identical_1(r.valueOf(),n.valueOf()))return!1;break;case"Error":return r.name===n.name&&r.message===n.message;case"RegExp":if(r.source!==n.source||r.global!==n.global||r.ignoreCase!==n.ignoreCase||r.multiline!==n.multiline||r.sticky!==n.sticky||r.unicode!==n.unicode)return!1}for(var a=e.length-1;0<=a;){if(e[a]===r)return t[a]===n;a-=1}switch(u){case"Map":return r.size===n.size&&_uniqContentEquals(r.entries(),n.entries(),e.concat([r]),t.concat([n]));case"Set":return r.size===n.size&&_uniqContentEquals(r.values(),n.values(),e.concat([r]),t.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=keys_1(r);if(c.length!==keys_1(n).length)return!1;var o=e.concat([r]),i=t.concat([n]);for(a=c.length-1;0<=a;){var s=c[a];if(!_has_1(s,n)||!_equals(n[s],r[s],o,i))return!1;a-=1}return!0}var _equals_1=_equals,equals=_curry2_1(function(r,n){return _equals_1(r,n,[],[])}),equals_1=equals;function _arity(r,l){switch(r){case 0:return function(){return l.apply(this,arguments)};case 1:return function(r){return l.apply(this,arguments)};case 2:return function(r,n){return l.apply(this,arguments)};case 3:return function(r,n,e){return l.apply(this,arguments)};case 4:return function(r,n,e,t){return l.apply(this,arguments)};case 5:return function(r,n,e,t,u){return l.apply(this,arguments)};case 6:return function(r,n,e,t,u,a){return l.apply(this,arguments)};case 7:return function(r,n,e,t,u,a,c){return l.apply(this,arguments)};case 8:return function(r,n,e,t,u,a,c,o){return l.apply(this,arguments)};case 9:return function(r,n,e,t,u,a,c,o,i){return l.apply(this,arguments)};case 10:return function(r,n,e,t,u,a,c,o,i,s){return l.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var _arity_1=_arity;function _curryN(a,c,o){return function(){for(var r=[],n=0,e=a,t=0;t<c.length||n<arguments.length;){var u;t<c.length&&(!_isPlaceholder_1(c[t])||n>=arguments.length)?u=c[t]:(u=arguments[n],n+=1),r[t]=u,_isPlaceholder_1(u)||(e-=1),t+=1}return e<=0?o.apply(this,r):_arity_1(e,_curryN(a,r,o))}}var _curryN_1=_curryN,curryN=_curry2_1(function(r,n){return 1===r?_curry1_1(n):_arity_1(r,_curryN_1(r,[],n))}),curryN_1=curryN,runUntil=curryN_1(2,function(r,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],t="function"==typeof n?n():n;if(!t||!t.next)throw new Error("Requires an iterator or generator to work");for(var u=[],a=t.next();!a.done&&(u.push(a.value),!r(a.value,u));){var c=e.find(function(r){return r.match(a.value,u)});a=c?c.execute(t):t.next()}return u}),runUntilCompletion=runUntil(function(){return!1}),createMock=curryN_1(2,function(e,r){var t;t="function"==typeof r?r:equals_1(r);var u=[];return{match:function(r,n){return 0<u.length&&t(r,n)},execute:function(r){var n=e(u);if(n)return n(r)},then:function(r){return u.push(r),this},next:function(n){return this.then(function(r){return r&&r.next&&r.next(n)})},throw:function(n){return this.then(function(r){return r&&r.throw&&r.throw(n)})},return:function(n){return this.then(function(r){return r&&r.return&&r.return(n)})}}}),when=createMock(function(r){return r.shift()}),whenever=createMock(function(r){return r[0]});exports.runUntil=runUntil,exports.runUntilCompletion=runUntilCompletion,exports.when=when,exports.whenever=whenever;
